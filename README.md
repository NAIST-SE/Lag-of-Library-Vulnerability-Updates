# Lags in the Release, Adoption, and Propagation of npm Vulnerability Fixes

### Abstract
Security vulnerabilities in third-party dependencies are a growing concern not only for developers of the affected software, but for the risks it poses to an entire software ecosystem e.g., Heartbleed vulnerability. Recent studies show that developers are slow to respond to the threat of a vulnerability, sometimes taking four to eleven months to act. To ensure quick adoption and propagation of a release that contains the fix (fixing release), we conduct an empirical investigation to identify lags that may occur between the vulnerable release and its fixing release (fixing release update). Through a preliminary study of 131 fixing releases of npm projects on GitHub, we observe that a fixing release is rarely released on their own, with up to 92.86% of the bundled commits being unrelated to a fix. We then compare the fixing release update with changes on the client-side (client-side fixing release update). Through an empirical study of the adoption and propagation tendencies of 188 fixing releases that impact throughout a network of 882,222 npm packages, we find that stale clients require additional migration effort, even if the fixing release was quick (i.e., patch landing). Furthermore, we find that factors such as the branch that the fixing release lands on and the severity of the vulnerability influences its propagation. In addition to these lags that we identify and characterize, this paper lays the groundwork for future research on how to mitigate propagation lags in an ecosystem.

### Processed Dataset
This section shows the structure of dataset for our study.
Dataset is in JSON format.
Each file is associated with one vulnerability.

#### Vulnerability report
Vulnerability reports in this study are extracted from **synk.io**.
Each file contains one JSON object.
- [Download vulnerability report](report/report_data.tar.gz)

The following table shows the structure of vulnerability reports.

|Key          |Description                        |
|-------------|-----------------------------------|
|snyk_id      | Vulnerability report id provided by snyk|
|link         | Link to vulnerability report page |
|pub_date_long| Published date (ISO format)       |
|description  | Raw html description              |
|lib_name     | Affected library name             |
|severity     | Level of severity                 |
|vul_type     | Type of vulnerability             |
|aff_ver      | Affected version range (<,<=,>,>=,\|\|,ALL)|
|credit       | Vulnerability Reporter            |
|cwe          | CWE number                        |
|disc_date    | Disclosed date                    |
|pub_date     | Published date                    |

#### Dataset for RQ1
Dataset for RQ1 represents vulnerability fixes.
Each file contains one JSON object.
- [Download Dataset for RQ1](RQ1/rq1_data.tar.gz)

The following table shows the structure of RQ1 dataset.

| Key                | Description                                                               |
|--------------------|---------------------------------------------------------------------------|
| id                 | Vulnerability report id                                                   |
| aff_ver            | Affected version range                                                    |
| lib_name           | Affected library name                                                     |
| release_type       | Type of the fix released by libraries                                     |
| num_fix_commit     | Number of commits that related to the fix                                 |
| num_release_commit | Number of commits in the release                                          |
| references         | Links in references section                                               |
| compare_link       | Link to GitHub for comparing changes between vulnerable and fixed version |

#### Dataset for RQ2
Dataset for RQ2 represents lags of updates in fix delivery phase.
Each file contains one JSON array.
Instances in an array are downstream clients that depend on a vulnerable library.
- [Download Dataset for RQ2](RQ2/rq2_data.tar.gz)

The following table shows the structure of RQ3 dataset.

| Key        | Description                                                |
|------------|------------------------------------------------------------|
| name       | Client name                                                |
| dependency | Direct dependency name of the client                       |
| proximity  | Proximity between vulnerable library and downstream client |
| lags_day   | Lags of updates (days)                                     |

#### Dataset for RQ3
Dataset for RQ3 represents the adoption of delivered fixes by clients.
Each file contains one JSON array.
Instances in an array are clients that directly depend on a vulnerable library.
- [Download Dataset for RQ3](RQ3/rq3_data.tar.gz)

The following table shows the structure of RQ2 dataset.

| Key         | Description                                                   |
|-------------|---------------------------------------------------------------|
| client_name | Client name                                                   |
| vul_lib_ver | Vulnerable version of library adopted by client               |
| fix_lib_ver | Fixed version of library adopted by client                    |
| adoption    | Fix adoption of client                                        |
