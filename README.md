# On The Lag of Library Vulnerability Updates
## An Investigation into Repackage and Delivery of Security Fixes Within The npm JavaScript Ecosystem

### Abstract
Vulnerabilities in third-party libraries is a growing concern for the software developer, not only because it poses risks to the software client itself, but to the entire ecosystem. To mitigate these risks, developers are strongly recommended to update their dependencies. Recent studies show that affected developers are not likely to respond to the vulnerability threat. In this paper, we introduce the lags of updates as a causes of the slow response to the vulnerability threat within the ecosystem. To understand these lags, we use both qualitative and quantitative approaches to conduct an empirical study on how 188 fixes were repackaged and delivered across over eight hundred thousand releases of npm software packages hosted on GitHub. We report two types of lags. Lags in repackage occur as a vulnerability fix is more likely to be bundled with other non-related updates with about 83.33% of commits are not related. Dependency freshness has an effect on lags in delivery, with the lineage freshness, downstream dependencies and severity of the vulnerability all impacting lags. Moreover, lags exist in the adoption of the fix during the delivery phase. We find that clients are more likely to wait to adopt the minor fix release rather than the quicker patch fix. The identification of these two lags opens up different avenues on how to facilitate quicker fix repackage and delivery across its ecosystem.

### Processed Dataset
This section shows the structure of dataset for our study.
Dataset is in JSON format.
Each file is associated with one vulnerability.

#### Vulnerability report
Vulnerability reports in this study are extracted from **synk.io**.
Each file contains one JSON object.
- [Download vulnerability report](report/report_data.tar.gz)

The following table shows the structure of vulnerability reports.

|Key          |Description                        |
|-------------|-----------------------------------|
|snyk_id      | Vulnerability report id provided by snyk|
|link         | Link to vulnerability report page |
|pub_date_long| Published date (ISO format)       |
|description  | Raw html description              |
|lib_name     | Affected library name             |
|severity     | Level of severity                 |
|vul_type     | Type of vulnerability             |
|aff_ver      | Affected version range (<,<=,>,>=,\|\|,ALL)|
|credit       | Vulnerability Reporter            |
|cwe          | CWE number                        |
|disc_date    | Disclosed date                    |
|pub_date     | Published date                    |

#### Dataset for RQ1
Dataset for RQ1 represents vulnerability fixes.
Each file contains one JSON object.
- [Download Dataset for RQ1](RQ1/rq1_data.tar.gz)

The following table shows the structure of RQ1 dataset.

| Key                | Description                                                               |
|--------------------|---------------------------------------------------------------------------|
| id                 | Vulnerability report id                                                   |
| aff_ver            | Affected version range                                                    |
| lib_name           | Affected library name                                                     |
| release_type       | Type of the fix released by libraries                                     |
| num_fix_commit     | Number of commits that related to the fix                                 |
| num_release_commit | Number of commits in the release                                          |
| references         | Links in references section                                               |
| compare_link       | Link to GitHub for comparing changes between vulnerable and fixed version |

#### Dataset for RQ2
Dataset for RQ2 represents lags of updates in fix delivery phase.
Each file contains one JSON array.
Instances in an array are downstream clients that depend on a vulnerable library.
- [Download Dataset for RQ2](RQ2/rq2_data.tar.gz)

The following table shows the structure of RQ3 dataset.

| Key        | Description                                                |
|------------|------------------------------------------------------------|
| name       | Client name                                                |
| dependency | Direct dependency name of the client                       |
| proximity  | Proximity between vulnerable library and downstream client |
| lags_day   | Lags of updates (days)                                     |

#### Dataset for RQ3
Dataset for RQ3 represents the adoption of delivered fixes by clients.
Each file contains one JSON array.
Instances in an array are clients that directly depend on a vulnerable library.
- [Download Dataset for RQ3](RQ3/rq3_data.tar.gz)

The following table shows the structure of RQ2 dataset.

| Key         | Description                                                   |
|-------------|---------------------------------------------------------------|
| client_name | Client name                                                   |
| vul_lib_ver | Vulnerable version of library adopted by client               |
| fix_lib_ver | Fixed version of library adopted by client                    |
| adoption    | Fix adoption of client                                        |
